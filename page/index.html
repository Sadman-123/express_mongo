<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User_Diary</title>
</head>
<body>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Righteous&display=swap');
        body{
            background-color: rgb(249, 249, 243);
            margin: 0;
            padding: 0;
        }
        .lol{
            text-align: center;
            margin-top: 50px;
            background-color: skyblue;
            padding: 20px;
            border-radius: 10px;
            width: 30%;
        }
        .lol h1{
            font-family: "Righteous", sans-serif;
        }
        .lol input{
            margin: 10px;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
           
        }
        .lol input[type="submit"]{
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        .lol-box{
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .hlwbox{
            border-style: solid;
            padding: 10px;
            margin: 10px;
            border-radius: 10px;
            width:max-content;
        }
        .lol-cont{
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        
        }
    </style>
    <div class="lol-box">

        <div class="lol">
            <h1>User Diary</h1>
            <form action="/user_save" method="post">
                <input type="text" name="name" placeholder="Name">
                <br>
                <input type="password" name="password" placeholder="Password">
                <br>
                <input type="submit" value="Login">
            </form>
        </div>
    </div>
    <script>
        // JavaScript code to fetch data from MongoDB and update the <p> tag
        window.onload = function() {
            // When the page loads, fetch data from MongoDB
            fetch('/users')
                .then(response => response.json())
                .then(data => {
                    //make card for each user
                    data.forEach(user => {
                        const userBox = document.createElement('div');
                userBox.classList.add('hlwbox');

                const nameElement = document.createElement('h2');
                nameElement.innerText = `${user.name}`;
                userBox.appendChild(nameElement);

                const passwordElement = document.createElement('h4');
                passwordElement.innerText = `${user.pass}`;
                userBox.appendChild(passwordElement);

                document.body.appendChild(userBox);
                const container= document.createElement('div');
                container.classList.add('lol-cont');
                container.appendChild(userBox);
                document.body.appendChild(container);
            
                    });
                })
                .catch(error => console.error('Error fetching data:', error));
        };
    </script>
</body>
</html>